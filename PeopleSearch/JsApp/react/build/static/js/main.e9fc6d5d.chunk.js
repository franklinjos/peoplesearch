(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(16),o=n.n(i),c=n(37),u=n(18),s=n(7),l=n(8),d=(n(85),n(86),n(87),n(64)),p=n.n(d);function f(){var e=Object(s.a)(["\n    @import url('https://fonts.googleapis.com/css?family=Lato');\n    ","\n    :root{\n        font-size: 16px;\n        font-family: Lato;\n    }\n\n"]);return f=function(){return e},e}var m=Object(l.createGlobalStyle)(f(),p.a),g={alto:"#CFCFCF",white:"#ffffff",black10:"rgba(0, 0, 0, 0.1)",black14:"rgba(0, 0, 0, 0.14)",black12:"rgba(0, 0, 0, 0.12)",black20:"rgba(0, 0, 0, 0.2)",bluish:"#2892bd",silver:"#868686",mineshaft:"#3D3D3D",wildsand:"#f5f5f5"};Object.freeze(g);var b=n(14),h=n.n(b),v=n(20),O=n(132),x=n(133),j=n(67),E=n(74),C=n(17);function w(e,t){var n=new Date,r=new Date(e);switch(t){case"date":r instanceof Date&&!isNaN(r)&&(e=Intl.DateTimeFormat().format(r));break;case"age":var a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();(i<0||0===i&&n.getDate()<r.getDate())&&a--,e="".concat(a," y")}return e}function y(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}var N={FirstName:"",LastName:"",MiddleName:"",DateOfBirth:"",Picture:"",Interests:"",Address:{AddressLine1:"",AddressLine2:"",City:"",State:"",ZipCode:"",Country:""}},A=["FirstName","LastName","DateOfBirth","Picture"],L=["AddressLine1","City","State","ZipCode","Country"],S=n(35),k=n.n(S);function D(){return(D=Object(v.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.origin+"/api/people/",t&&t.trim()&&(n+="search/"+t),e.next=4,k.a.get(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.origin+"/api/people/",e.next=3,k.a.post(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.origin+"/api/people/"+t,e.next=3,k.a.delete(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){var e=Object(s.a)(["\n    justify-self: right;\n    grid-column: 4/-1;\n"]);return R=function(){return e},e}function q(){var e=Object(s.a)(["\n    grid-column: 1/3;\n"]);return q=function(){return e},e}function B(){var e=Object(s.a)(["\n    min-width: 100px;\n"]);return B=function(){return e},e}function H(){var e=Object(s.a)(["\n    margin-bottom: 5px;\n"]);return H=function(){return e},e}function J(){var e=Object(s.a)(["\n    margin-right: 5px;\n    margin-bottom: 5px;\n    padding: 2px;\n"]);return J=function(){return e},e}function Z(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: [image]auto [details]1fr [del]auto;\n    grid-template-rows: 1fr auto;\n    justify-content: left;\n    align-content: center;\n    grid-gap: 10px;\n    min-width: 300px;\n"]);return Z=function(){return e},e}var M=Object(l.default)(O.a)(Z()),V=Object(l.default)(x.a)(J()),W=Object(l.default)(j.a)(H()),Y=l.default.img(B()),z=l.default.div(q()),G=Object(l.default)(E.a)(R());function U(e){var t=e.person.LastName+", "+e.person.FirstName,n=e.person.Interests?JSON.parse(e.person.Interests):[],r="data:image/jpeg;base64,"+e.person.Picture,i=e.isLoading?"bp3-skeleton":"",o=w(e.person.DateOfBirth,"date")+" ("+w(e.person.DateOfBirth,"age")+")";return a.a.createElement(M,{elevation:C.a.TWO},!e.isLoading&&a.a.createElement(Y,{src:r,width:"150px",alt:""}),e.isLoading&&a.a.createElement(Y,{className:i,src:"",width:"150px",alt:""}),a.a.createElement("div",null,a.a.createElement(W,{className:i},t),a.a.createElement(W,{className:i},o),a.a.createElement(W,{className:i},e.person.Address.AddressLine1),a.a.createElement(W,{className:i},e.person.Address.City+", "+e.person.Address.State+", "+e.person.Address.ZipCode),a.a.createElement(W,{className:i},e.person.Address.Country)),a.a.createElement(z,null,n.map(function(t,n){return a.a.createElement(V,{className:i,key:e.person.PersonId+n,round:!0,large:!1},t)})),a.a.createElement(G,{minimal:!0,icon:"delete",onClick:Object(v.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.person.PersonId);case 2:e.onDelete();case 3:case"end":return t.stop()}},t)}))}))}function _(){var e=Object(s.a)(["\n        @media (min-width: ","em) {\n            ","\n        }\n    "]);return _=function(){return e},e}var K={xsmall:360,small:768,medium:992,large:1440},$=Object.keys(K).reduce(function(e,t){return e[t]=function(){return Object(l.css)(_(),K[t]/16,l.css.apply(void 0,arguments))},e},{});function Q(){var e=Object(s.a)(["\n    grid-column: 1/-1;\n"]);return Q=function(){return e},e}function X(){var e=Object(s.a)(["grid-template-columns: repeat(4, 1fr);"]);return X=function(){return e},e}function ee(){var e=Object(s.a)(["grid-template-columns: repeat(3, 1fr);"]);return ee=function(){return e},e}function te(){var e=Object(s.a)(["grid-template-columns: repeat(2, 1fr);"]);return te=function(){return e},e}function ne(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: repeat(1, 1fr);\n    grid-gap: 20px;\n    /* Adjust cards in one row based on screen break point. Defaulted to xsmal */\n    ","\n    ","\n    ","\n"]);return ne=function(){return e},e}var re=l.default.div(ne(),$.small(te()),$.medium(ee()),$.large(X())),ae=Object(l.default)(O.a)(Q());function ie(e){return a.a.createElement(re,null,!e.isError&&e.people.map(function(t){return a.a.createElement(U,{isLoading:e.isLoading,key:t.PersonId,person:t,onDelete:function(){e.onDelete()}})}),e.isError&&a.a.createElement(ae,{elevation:C.a.TWO},"Sorry failed to laod data."),!e.isError&&!e.people.length&&a.a.createElement(ae,{elevation:C.a.TWO},"No matching person found."))}var oe=n(138),ce=n(9),ue=n(134),se=n(136),le=n(24),de=n(137);function pe(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 200px 240px;\n    grid-gap: 15px;\n"]);return pe=function(){return e},e}var fe=l.default.div(pe()),me={formatDate:function(e){return e.toLocaleDateString()},parseDate:function(e){return new Date(e)},placeholder:"M/D/YYYY"};function ge(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)(!1),s=Object(u.a)(c,2),l=s[0],d=s[1],p=Object(r.useState)("Choose file..."),f=Object(u.a)(p,2),m=f[0],g=f[1],b=Object(r.useState)(!1),O=Object(u.a)(b,2),x=O[0],j=O[1],C=Object(r.useState)(JSON.parse(JSON.stringify(N))),w=Object(u.a)(C,2),S=w[0],k=w[1];function D(e,t){var n=Object.assign({},S);n[e]=t,k(n),F()}function P(e,t){var n=Object.assign({},S);n.Address[e]=t,k(n),F()}function F(){var e=0;A.forEach(function(t){S[t].trim()||e++}),L.forEach(function(t){S.Address[t].trim()||e++}),d(e<=1)}return a.a.createElement("div",null,a.a.createElement(E.a,{onClick:function(){o(!0),g(""),k(JSON.parse(JSON.stringify(N))),d(!1)}},"Add Person"),a.a.createElement(oe.a,{isOpen:i,icon:"add",onClose:function(){return o(!1)},title:"Add Person"},a.a.createElement(fe,{className:ce.a.DIALOG_BODY},a.a.createElement(Oe,{placeHolder:"First Name",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return D("FirstName",e)}}),a.a.createElement(Oe,{placeHolder:"Last Name",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return D("LastName",e)}}),a.a.createElement(ue.a,{helperText:"",label:"Date of birth",labelFor:"text-input",labelInfo:"(required)"},a.a.createElement(de.a,Object.assign({maxDate:new Date,required:!0},me,{onChange:function(e){return D("DateOfBirth",e.toISOString().split("T")[0])}}))),a.a.createElement(Oe,{placeHolder:"Address",isRequired:!0,maxLength:100,onVlaueChanged:function(e){return P("AddressLine1",e)}}),a.a.createElement(Oe,{placeHolder:"City",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return P("City",e)}}),a.a.createElement(Oe,{placeHolder:"State",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return P("State",e)}}),a.a.createElement(Oe,{placeHolder:"Zip Code",isRequired:!0,helperText:"Should be 5 digit number",maxLength:5,onVlaueChanged:function(e){var t=parseInt(e,10);!isNaN(t)&&t>1e4?P("ZipCode",e):P("ZipCode","")}}),a.a.createElement(Oe,{placeHolder:"Country",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return P("Country",e)}}),a.a.createElement(ue.a,{helperText:"Shoud be jpeg and not exceed 1 mb",label:"Profile picture",labelFor:"text-input",labelInfo:"(required)"},a.a.createElement(se.a,{disabled:!1,required:!0,text:m,onInputChange:function(){var e=Object(v.a)(h.a.mark(function e(t){var n,r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,!((r=n[0]).size<1024e3&&"image/jpeg"===r.type)){e.next=15;break}return g(r.name),e.prev=4,e.next=7,y(r);case 7:D("Picture",a=(a=e.sent).substring(a.indexOf(",")+1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t){return e.apply(this,arguments)}}()}))),a.a.createElement("div",{className:ce.a.DIALOG_FOOTER},a.a.createElement("div",{className:ce.a.DIALOG_FOOTER_ACTIONS},a.a.createElement(E.a,{onClick:function(){return o(!1)}},"Close"),a.a.createElement(E.a,{intent:le.a.PRIMARY,onClick:Object(v.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=14;break}return j(!0),t.prev=2,t.next=5,I(S);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0),j(!1);case 11:e.onAdd(),j(!1),o(!1);case 14:case"end":return t.stop()}},t,null,[[2,7]])})),disabled:!l,loading:x},"Save")))))}var be=n(73);function he(e){var t=Object(be.a)(300,function(t){e.onSearch(t)});return a.a.createElement("div",{className:"bp3-input-group"},a.a.createElement("span",{className:"bp3-icon bp3-icon-search"}),a.a.createElement("input",{type:"text",onChange:function(n){e.onSearch&&"function"===typeof e.onSearch&&t(n.target.value)},className:"bp3-input",placeholder:"Search for people"}))}var ve=n(135);function Oe(e){var t=e.isRequired?"(required)":"";return a.a.createElement(ue.a,{helperText:e.helperText,label:e.placeHolder,labelFor:"text-input",labelInfo:t},a.a.createElement(ve.a,{required:!0,maxLength:e.maxLength,id:"text-input",placeholder:e.placeHolder,onChange:function(t){var n=t.target.value;e.onVlaueChanged(n)}}))}var xe=n(45);function je(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 40px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n"]);return je=function(){return e},e}function Ee(){var e=Object(s.a)(["\n    background-color: ",";\n    color: ",";\n    margin-left: -20px;\n    margin-right: -20px;\n    height: 40px;\n\n    padding: 5px;\n    padding-left: 20px;\n    font-size: 1.5rem;\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    margin-left: 20px;\n    margin-right: 20px;\n"]);return Ce=function(){return e},e}var we=l.default.div(Ce()),ye=l.default.header(Ee(),g.bluish,g.wildsand),Ne=l.default.div(je());var Ae=function(){var e=Object(r.useState)(Object(c.a)(xe)),t=Object(u.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(!0),s=Object(u.a)(o,2),l=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),g=f[0],b=f[1];function h(e){(function(e){return D.apply(this,arguments)})(e).then(function(e){i(Object(c.a)(e.data)),d(!1)}).catch(function(e){console.error(e),b(!0)})}return Object(r.useEffect)(function(){h()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(we,null,a.a.createElement(ye,null,"Person search app"),a.a.createElement(Ne,null,a.a.createElement(he,{onSearch:function(e){return t=e,d(!0),i(Object(c.a)(xe)),void setTimeout(function(){h(t)},1e3);var t}}),a.a.createElement(ge,{onAdd:function(){return h()}})),a.a.createElement(ie,{isError:g,isLoading:l,people:n,onDelete:function(){h()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e){e.exports=[{PersonId:2,FirstName:"James",LastName:"Taylor",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cooking","Jogging","cricket"]',Address:{PersonAddressId:2,AddressLine1:"124 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}},{PersonId:4,FirstName:"Kurt",LastName:"Nagel",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cricket","tennis","cricket","tennis"]',Address:{PersonAddressId:4,AddressLine1:"326 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}},{PersonId:5,FirstName:"Kurt",LastName:"Nagel",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cricket","tennis","cricket","tennis"]',Address:{PersonAddressId:4,AddressLine1:"326 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}}]},80:function(e,t,n){e.exports=n(129)}},[[80,1,2]]]);
//# sourceMappingURL=main.e9fc6d5d.chunk.js.map