(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),o=n.n(i),c=n(36),s=n(18),u=n(7),l=n(8),d=(n(85),n(86),n(87),n(64)),p=n.n(d);function m(){var e=Object(u.a)(["\n    @import url('https://fonts.googleapis.com/css?family=Lato');\n    ","\n    :root{\n        font-size: 16px;\n        font-family: Lato;\n    }\n\n"]);return m=function(){return e},e}var f=Object(l.createGlobalStyle)(m(),p.a),g={alto:"#CFCFCF",white:"#ffffff",black10:"rgba(0, 0, 0, 0.1)",black14:"rgba(0, 0, 0, 0.14)",black12:"rgba(0, 0, 0, 0.12)",black20:"rgba(0, 0, 0, 0.2)",bluish:"#2892bd",silver:"#868686",mineshaft:"#3D3D3D",wildsand:"#f5f5f5"};Object.freeze(g);var b=n(132),h=n(133),v=n(67),O=n(16);function x(e,t){var n=new Date,a=new Date(e);switch(t){case"date":a instanceof Date&&!isNaN(a)&&(e=Intl.DateTimeFormat().format(a));break;case"age":var r=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();(i<0||0===i&&n.getDate()<a.getDate())&&r--,e="".concat(r," y")}return e}function j(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}})}var E={FirstName:"",LastName:"",MiddleName:"",DateOfBirth:"",Picture:"",Interests:"",Address:{AddressLine1:"",AddressLine2:"",City:"",State:"",ZipCode:"",Country:""}},C=["FirstName","LastName","DateOfBirth","Picture"],A=["AddressLine1","City","State","ZipCode","Country"];function y(){var e=Object(u.a)(["\n    grid-column: 1/-1;\n"]);return y=function(){return e},e}function N(){var e=Object(u.a)(["\n    min-width: 100px;\n"]);return N=function(){return e},e}function w(){var e=Object(u.a)(["\n    margin-bottom: 5px;\n"]);return w=function(){return e},e}function L(){var e=Object(u.a)(["\n    margin-right: 5px;\n    margin-bottom: 5px;\n    padding: 2px;\n"]);return L=function(){return e},e}function S(){var e=Object(u.a)(["\n    display: grid;\n    grid-template-columns: [image]auto [details]1fr;\n    grid-template-rows: 1fr auto;\n    justify-content: left;\n    align-content: center;\n    grid-gap: 10px;\n    min-width: 300px;\n"]);return S=function(){return e},e}var k=Object(l.default)(b.a)(S()),D=Object(l.default)(h.a)(L()),I=Object(l.default)(v.a)(w()),F=l.default.img(N()),P=l.default.div(y());function R(e){var t=e.person.LastName+", "+e.person.FirstName,n=e.person.Interests?JSON.parse(e.person.Interests):[],a="data:image/jpeg;base64,"+e.person.Picture,i=e.isLoading?"bp3-skeleton":"",o=x(e.person.DateOfBirth,"date")+" ("+x(e.person.DateOfBirth,"age")+")";return r.a.createElement(k,{elevation:O.a.TWO},!e.isLoading&&r.a.createElement(F,{src:a,width:"150px",alt:""}),e.isLoading&&r.a.createElement(F,{className:i,src:"",width:"150px",alt:""}),r.a.createElement("div",null,r.a.createElement(I,{className:i},t),r.a.createElement(I,{className:i},o),r.a.createElement(I,{className:i},e.person.Address.AddressLine1),r.a.createElement(I,{className:i},e.person.Address.City+", "+e.person.Address.State+", "+e.person.Address.ZipCode),r.a.createElement(I,{className:i},e.person.Address.Country)),r.a.createElement(P,null,n.map(function(t,n){return r.a.createElement(D,{className:i,key:e.person.PersonId+n,round:!0,large:!1},t)})))}function T(){var e=Object(u.a)(["\n        @media (min-width: ","em) {\n            ","\n        }\n    "]);return T=function(){return e},e}var q={xsmall:360,small:768,medium:992,large:1440},B=Object.keys(q).reduce(function(e,t){return e[t]=function(){return Object(l.css)(T(),q[t]/16,l.css.apply(void 0,arguments))},e},{});function H(){var e=Object(u.a)(["\n    grid-column: 1/-1;\n"]);return H=function(){return e},e}function M(){var e=Object(u.a)(["grid-template-columns: repeat(4, 1fr);"]);return M=function(){return e},e}function V(){var e=Object(u.a)(["grid-template-columns: repeat(3, 1fr);"]);return V=function(){return e},e}function W(){var e=Object(u.a)(["grid-template-columns: repeat(2, 1fr);"]);return W=function(){return e},e}function Y(){var e=Object(u.a)(["\n    display: grid;\n    grid-template-columns: repeat(1, 1fr);\n    grid-gap: 20px;\n    /* Adjust cards in one row based on screen break point. Defaulted to xsmal */\n    ","\n    ","\n    ","\n"]);return Y=function(){return e},e}var Z=l.default.div(Y(),B.small(W()),B.medium(V()),B.large(M())),J=Object(l.default)(b.a)(H());function z(e){return r.a.createElement(Z,null,!e.isError&&e.people.map(function(t){return r.a.createElement(R,{isLoading:e.isLoading,key:t.PersonId,person:t})}),e.isError&&r.a.createElement(J,{elevation:O.a.TWO},"Sorry failed to laod data."),!e.isError&&!e.people.length&&r.a.createElement(J,{elevation:O.a.TWO},"No matching person found."))}var G=n(17),U=n.n(G),_=n(27),K=n(74),$=n(138),Q=n(9),X=n(134),ee=n(136),te=n(23),ne=n(137),ae=n(43),re=n.n(ae);function ie(){return(ie=Object(_.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.origin+"/api/people/",t&&t.trim()&&(n+="search/"+t),e.next=4,re.a.get(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(_.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.origin+"/api/people/",e.next=3,re.a.post(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(){var e=Object(u.a)(["\n    display: grid;\n    grid-template-columns: 200px 240px;\n    grid-gap: 15px;\n"]);return se=function(){return e},e}var ue=l.default.div(se()),le={formatDate:function(e){return e.toLocaleDateString()},parseDate:function(e){return new Date(e)},placeholder:"M/D/YYYY"};function de(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(!1),u=Object(s.a)(c,2),l=u[0],d=u[1],p=Object(a.useState)("Choose file..."),m=Object(s.a)(p,2),f=m[0],g=m[1],b=Object(a.useState)(!1),h=Object(s.a)(b,2),v=h[0],O=h[1],x=Object(a.useState)(Object.assign({},E)),y=Object(s.a)(x,2),N=y[0],w=y[1];function L(e,t){var n=Object.assign({},N);n[e]=t,w(n),k()}function S(e,t){var n=Object.assign({},N);n.Address[e]=t,w(n),k()}function k(){C.forEach(function(e){N[e]}),A.forEach(function(e){N.Address[e]}),d(!0)}return r.a.createElement("div",null,r.a.createElement(K.a,{onClick:function(){o(!0),g(""),w(Object.assign({},E))}},"Add Person"),r.a.createElement($.a,{isOpen:i,icon:"add",onClose:function(){return o(!1)},title:"Add Person"},r.a.createElement(ue,{className:Q.a.DIALOG_BODY},r.a.createElement(ge,{placeHolder:"First Name",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return L("FirstName",e)}}),r.a.createElement(ge,{placeHolder:"Last Name",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return L("LastName",e)}}),r.a.createElement(X.a,{helperText:"",label:"Date of birth",labelFor:"text-input",labelInfo:"(required)"},r.a.createElement(ne.a,Object.assign({maxDate:new Date,required:!0},le,{onChange:function(e){return L("DateOfBirth",e.toISOString().split("T")[0])}}))),r.a.createElement(ge,{placeHolder:"Address",isRequired:!0,maxLength:100,onVlaueChanged:function(e){return S("AddressLine1",e)}}),r.a.createElement(ge,{placeHolder:"City",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return S("City",e)}}),r.a.createElement(ge,{placeHolder:"State",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return S("State",e)}}),r.a.createElement(ge,{placeHolder:"Zip Code",isRequired:!0,maxLength:5,onVlaueChanged:function(e){var t=parseInt(e,10);!isNaN(t)&&t>1e4&&S("ZipCode",e)}}),r.a.createElement(ge,{placeHolder:"Country",isRequired:!0,maxLength:50,onVlaueChanged:function(e){return S("Country",e)}}),r.a.createElement(X.a,{helperText:"Shoud be jpeg and not exceed 1 mb",label:"Profile picture",labelFor:"text-input",labelInfo:"(required)"},r.a.createElement(ee.a,{disabled:!1,required:!0,text:f,onInputChange:function(){var e=Object(_.a)(U.a.mark(function e(t){var n,a,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,!((a=n[0]).size<1024e3&&"image/jpeg"===a.type)){e.next=15;break}return g(a.name),e.prev=4,e.next=7,j(a);case 7:L("Picture",r=(r=e.sent).substring(r.indexOf(",")+1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t){return e.apply(this,arguments)}}()}))),r.a.createElement("div",{className:Q.a.DIALOG_FOOTER},r.a.createElement("div",{className:Q.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(K.a,{onClick:function(){return o(!1)}},"Close"),r.a.createElement(K.a,{intent:te.a.PRIMARY,onClick:Object(_.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=14;break}return O(!0),t.prev=2,t.next=5,oe(N);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0),O(!1);case 11:e.onAdd(),O(!1),o(!1);case 14:case"end":return t.stop()}},t,null,[[2,7]])})),disabled:!l,loading:v},"Save")))))}var pe=n(73);function me(e){var t=Object(pe.a)(300,function(t){e.onSearch(t)});return r.a.createElement("div",{className:"bp3-input-group"},r.a.createElement("span",{className:"bp3-icon bp3-icon-search"}),r.a.createElement("input",{type:"text",onChange:function(n){e.onSearch&&"function"===typeof e.onSearch&&t(n.target.value)},className:"bp3-input",placeholder:"Search for people"}))}var fe=n(135);function ge(e){var t=e.isRequired?"(required)":"";return r.a.createElement(X.a,{helperText:e.helperText,label:e.placeHolder,labelFor:"text-input",labelInfo:t},r.a.createElement(fe.a,{required:!0,maxLength:e.maxLength,id:"text-input",placeholder:e.placeHolder,onChange:function(t){var n=t.target.value;e.onVlaueChanged(n)}}))}var be=n(45);function he(){var e=Object(u.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 40px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n"]);return he=function(){return e},e}function ve(){var e=Object(u.a)(["\n    background-color: ",";\n    color: ",";\n    margin-left: -20px;\n    margin-right: -20px;\n    height: 40px;\n    \n    padding: 5px;\n    padding-left: 20px;\n    font-size: 1.5rem;\n"]);return ve=function(){return e},e}function Oe(){var e=Object(u.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    margin-left: 20px;\n    margin-right: 20px;\n"]);return Oe=function(){return e},e}var xe=l.default.div(Oe()),je=l.default.header(ve(),g.bluish,g.wildsand),Ee=l.default.div(he());var Ce=function(){var e=Object(a.useState)(Object(c.a)(be)),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!0),u=Object(s.a)(o,2),l=u[0],d=u[1],p=Object(a.useState)(!1),m=Object(s.a)(p,2),g=m[0],b=m[1];function h(e){(function(e){return ie.apply(this,arguments)})(e).then(function(e){i(Object(c.a)(e.data)),d(!1)}).catch(function(e){console.error(e),b(!0)})}return Object(a.useEffect)(function(){h()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(xe,null,r.a.createElement(je,null,"Person search app"),r.a.createElement(Ee,null,r.a.createElement(me,{onSearch:function(e){return t=e,d(!0),i(Object(c.a)(be)),void setTimeout(function(){h(t)},1e3);var t}}),r.a.createElement(de,{onAdd:function(){return h()}})),r.a.createElement(z,{isError:g,isLoading:l,people:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e){e.exports=[{PersonId:2,FirstName:"James",LastName:"Taylor",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cooking","Jogging","cricket"]',Address:{PersonAddressId:2,AddressLine1:"124 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}},{PersonId:4,FirstName:"Kurt",LastName:"Nagel",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cricket","tennis","cricket","tennis"]',Address:{PersonAddressId:4,AddressLine1:"326 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}},{PersonId:5,FirstName:"Kurt",LastName:"Nagel",MiddleName:null,DateOfBirth:"1978-02-28T00:00:00",Picture:"",Interests:'["cricket","tennis","cricket","tennis"]',Address:{PersonAddressId:4,AddressLine1:"326 9th Ave",AddressLine2:null,City:"Redmond",State:"WA",ZipCode:"98052",Country:"United States"}}]},80:function(e,t,n){e.exports=n(129)}},[[80,1,2]]]);
//# sourceMappingURL=main.497c0eea.chunk.js.map